작업 요약 (한국어)

프로젝트: Study (homepage 캘린더 기능에 DB 연동 및 UI 개선)
작성일: 2025-10-19
작성자: 자동화 에이전트

1) 목적
- 캘린더(`homepage/캘린더`)의 일정을 브라우저 로컬 저장(localStorage)에서 서버 기반 영속성(SQLite)으로 전환하여, 브라우저를 껐다 켜도 일정이 유지되도록 구현.

2) 추가/수정된 파일
- 추가
  - server.js
    - Node.js + Express + sqlite3 기반 간단한 백엔드 서버.
    - static 파일은 `homepage/` 폴더에서 서빙.
    - REST API 엔드포인트: GET/POST/PUT/DELETE /api/events
  - package.json
    - 프로젝트 메타 및 의존성(body-parser, express, sqlite3, nodemon).
  - README.md (한글로 번역 및 테스트 절차 추가)
- 수정
  - homepage/캘린더/date__main.js
    - 기존 localStorage 사용(getSchedules, saveSchedules)을 서버 API 호출로 대체.
    - get/create/update/delete 비동기 함수 추가.
    - 달력 렌더링 및 모달 로직을 비동기 흐름으로 변경.
    - UI 개선 (로더, 토스트, 버튼 비활성화, 엔터키 바인딩 정리).

3) 구현 상세
- 백엔드(server.js)
  - 데이터베이스: `data/events.db` (SQLite). 테이블 schema: id, title, start, end, color.
  - CORS 허용(개발 편의). 로컬에서 static 파일과 API를 함께 서빙.
  - 엔드포인트 설명:
    - GET /api/events: 이벤트 목록 반환
    - POST /api/events: 이벤트 생성
    - PUT /api/events/:id: 이벤트 수정
    - DELETE /api/events/:id: 이벤트 삭제

- 프론트엔드 (date__main.js)
  - getSchedules(): `/api/events` GET 호출
  - createSchedule(), updateSchedule(), deleteSchedule(): 각각 POST/PUT/DELETE 호출
  - makeCalendar(), renderScheduleListPanel(), renderScheduleLegend() 등에서 비동기 호출을 await 하도록 변경
  - 모달에서 저장/삭제 시 요청 중 버튼 비활성화 및 전역 로더(showLoader/hideLoader) 표시
  - 요청 성공/실패 시 토스트(showToast) 알림을 표시
  - 기존의 중복된 전역 엔터키 바인딩을 제거하고 모달 내부에서만 엔터키로 저장되도록 정리

4) UI 개선 요약
- 전역 로더: 네트워크 요청 중 화면 상단에 로딩 오버레이 표시
- 토스트 알림: 성공/오류 알림을 우측 상단에 표시
- 버튼 비활성화: 서버 요청 중(중복 클릭 방지) 저장/삭제 버튼 비활성화
- 엔터키 바인딩 중복 제거: 모달 내부에서만 enter로 저장 동작

5) 테스트 및 검증
- 의존성 설치: `npm install` (프로젝트 루트)
- 서버 시작: `npm start` (포트 4000)
- 수동 테스트(예)
  - POST로 이벤트 생성
    curl -sS -X POST -H "Content-Type: application/json" -d '{"title":"테스트","start":"2025-10-20","end":"2025-10-20","color":"#FFA07A"}' http://localhost:4000/api/events
  - GET으로 확인: curl -sS http://localhost:4000/api/events
  - 서버 재시작 후 GET 확인(영속성 확인)

6) 현재 상태
- 서버 실행 중(포트 4000).
- GET /api/events 정상 응답(예: 추가한 테스트 이벤트 확인).
- 프론트엔드 `date__main.js`는 API 호출 기반으로 수정되어 있음.

7) 향후 개선 제안
- CORS origin 제한 및 간단한 인증 추가
- 서버 측 입력 검증 강화
- 프론트엔드 로컬 캐싱(오프라인) 또는 sync 전략
- UI 접근성 개선(포커스 관리, 스크린리더 지원)
- 자동화 테스트 추가(간단한 통합 테스트 스크립트)

끝.
